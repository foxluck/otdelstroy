(function(){tinymce.PluginManager.requireLangPack('toolbartoggle');tinymce.create('tinymce.plugins.ToolbarToggle',{init:function(ed,url){ed.onPostRender.add(function(ed,cm){ed.settings.plugin_toolbartoggle_show=true;setTimeout(function(){ed.execCommand('mceToolbarToggle',true,null)},100)});ed.addCommand('mceToolbarToggle',function(){try{ed.settings.plugin_toolbartoggle_show=!ed.settings.plugin_toolbartoggle_show;var i=1;var id=ed.settings.id;while(toolbar=document.getElementById(id+'_toolbar'+(++i))){toolbar.style.display=ed.settings.plugin_toolbartoggle_show?'':'none'}var editorTable=document.getElementById(id+'_ifr');if(editorTable&&editorTable.parentNode.offsetHeight){editorTable.style.height=''+editorTable.parentNode.offsetHeight+'px'}else if(editorTable){editorTable.style.height='298px'}}catch(e){alert(e.message)}});ed.addButton('toolbartoggle',{title:'toolbartoggle.desc',cmd:'mceToolbarToggle',image:url+'/img/toggle.gif'});ed.onNodeChange.add(function(ed,cm){cm.setActive('toolbartoggle',ed.getParam('plugin_toolbartoggle_show'))})},createControl:function(n,cm){return null},getInfo:function(){return{longname:'Toggle toolbar',author:'WebAsyst',authorurl:'http://webasyst.net',infourl:'http://www.webasyst.net/shop/',version:"1.0"}}});tinymce.PluginManager.add('toolbartoggle',tinymce.plugins.ToolbarToggle)})();